<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>패스오더 시급 2배 챌린지 참여 신청</title>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-TBJRDLWT');</script>
  <!-- End Google Tag Manager -->

  <!-- 다음 주소 API -->
  <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: '#FF7949',
            brandLight: '#FFF5F2',
            brandDark: '#E5643A',
          }
        }
      }
    }
  </script>
  
  <style>
    * { font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif; }
    
    .role-card {
      transition: all 0.2s ease;
      cursor: pointer;
    }
    .role-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(255, 121, 73, 0.15);
    }
    .role-card.selected {
      border-color: #FF7949;
      background: #FFF5F2;
    }
    .role-card.selected .role-check {
      display: flex;
    }
    
    .info-section {
      display: none;
      animation: fadeIn 0.3s ease;
    }
    .info-section.show {
      display: block;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .form-section {
      display: none;
      animation: fadeIn 0.3s ease;
    }
    .form-section.show {
      display: block;
    }
    
    input:focus, select:focus {
      outline: none;
      border-color: #FF7949;
      box-shadow: 0 0 0 3px rgba(255, 121, 73, 0.1);
    }
  </style>
</head>
<body class="bg-gray-50 min-h-screen">

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TBJRDLWT"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <div class="max-w-lg mx-auto bg-white min-h-screen shadow-sm">
    
    <!-- 헤더 -->
    <div class="bg-gradient-to-br from-brand to-brandDark text-white p-6 text-center">
      <div class="inline-block bg-white/20 rounded-full px-3 py-1 text-sm mb-3">
        🎁 선착순 모집 중
      </div>
      <h1 class="text-2xl font-bold mb-2">패스오더 [시급 2배 챌린지]</h1>
      <p class="text-white/90">참여자 모집</p>
    </div>

    <div class="p-6">
      
      <!-- 인트로 -->
      <div class="text-center mb-8">
        <p class="text-gray-600 leading-relaxed">
          안녕하세요, 패스오더입니다 😊<br>
          같은 시간 일하면서,<br>
          <span class="text-brand font-bold">월 최대 60만원까지 추가로 벌 수 있는 기회!</span>
        </p>
      </div>

      <!-- 역할 선택 -->
      <div class="mb-8">
        <p class="text-center font-bold text-gray-800 mb-4">어떤 역할로 참여하시나요?</p>
        
        <div class="grid grid-cols-2 gap-4">
          <!-- 알바 카드 -->
          <div class="role-card border-2 border-gray-200 rounded-2xl p-4 text-center relative" data-role="alba">
            <div class="role-check hidden absolute top-2 right-2 w-6 h-6 bg-brand rounded-full items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
              </svg>
            </div>
            <img src="images/알바.png" alt="알바" class="w-24 h-24 mx-auto mb-2 object-contain">
            <p class="font-bold text-gray-800">알바로 참여</p>
            <p class="text-xs text-gray-500 mt-1">파트타이머 / 매니저 / 직원</p>
          </div>
          
          <!-- 점주 카드 -->
          <div class="role-card border-2 border-gray-200 rounded-2xl p-4 text-center relative" data-role="owner">
            <div class="role-check hidden absolute top-2 right-2 w-6 h-6 bg-brand rounded-full items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
              </svg>
            </div>
            <img src="images/점주.png" alt="점주" class="w-24 h-24 mx-auto mb-2 object-contain">
            <p class="font-bold text-gray-800">점주로 참여</p>
            <p class="text-xs text-gray-500 mt-1">매장 대표 / 오너</p>
          </div>
        </div>
      </div>

      <!-- 알바용 설명 -->
      <div id="info-alba" class="info-section space-y-6 mb-8">
        <div class="bg-amber-50 rounded-2xl p-5">
          <p class="font-bold text-gray-800 mb-3">🤔 왜 이 챌린지를 준비했나면요</p>
          <div class="text-gray-600 text-sm space-y-2">
            <p>바쁜 시간 정신없이 일하고, 손님 응대에 메뉴 제조까지.</p>
            <p>이렇게 열심히 하는데 받는 건 정해진 시급/월급 뿐이잖아요.</p>
            <p>그래서 준비했어요.</p>
            <p class="text-brand font-bold">사장님이 안 주는 보너스, 패스오더가 대신 드릴게요. 🎁</p>
          </div>
        </div>
        
        <div class="bg-blue-50 rounded-2xl p-5">
          <p class="font-bold text-gray-800 mb-3">😊 패스오더가 알바에게 좋은 이유?</p>
          <div class="text-gray-600 text-sm space-y-3">
            <div class="flex gap-2">
              <span class="bg-blue-100 text-blue-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold shrink-0">1</span>
              <p><b>주문 받고, 결제하고, 음료 제조까지 정신없으셨죠?</b><br>패스오더는 손님이 미리 주문·결제까지 완료해요.<br>덕분에 음료 제조에만 집중할 수 있어요.</p>
            </div>
            <div class="flex gap-2">
              <span class="bg-blue-100 text-blue-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold shrink-0">2</span>
              <p><b>급한 손님, 화내는 손님, 말 빠른 손님까지 응대하느라 지치셨죠?</b><br>패스오더 손님은 앱에서 직접 주문해요.<br>까다로운 주문, 얼굴 보며 받을 일이 줄어들어요.</p>
            </div>
            <div class="flex gap-2">
              <span class="bg-blue-100 text-blue-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold shrink-0">3</span>
              <p><b>바쁠 때 주문 실수, 걱정되셨죠?</b><br>패스오더는 옵션이 주문 내역에 그대로 남아있어요.<br>다시 묻거나 잘못 만드는 일이 줄어들어요.</p>
            </div>
          </div>
        </div>
        
        <div class="bg-green-50 rounded-2xl p-5">
          <p class="font-bold text-gray-800 mb-3">🎁 참여 혜택</p>
          <div class="bg-white rounded-xl p-4 mb-3">
            <p class="text-brand font-bold text-lg">💵 손님 1명당 2,000원 지급!</p>
            <p class="text-gray-500 text-sm">손님이 패스오더 첫 주문 완료 시, 건당 2,000원을 현금으로 지급해드려요!</p>
          </div>
          <div class="bg-white rounded-xl p-4">
            <p class="text-red-500 font-bold">⏰ 한정 특별 혜택!</p>
            <p class="text-gray-700 font-bold">최대 60만원 추가 수입 가능!</p>
            <p class="text-gray-500 text-sm">똑같이 일하면서 최대 60만원까지 더 벌 수 있어요.</p>
          </div>
        </div>
      </div>

      <!-- 점주용 설명 -->
      <div id="info-owner" class="info-section space-y-6 mb-8">
        <div class="bg-amber-50 rounded-2xl p-5">
          <p class="font-bold text-gray-800 mb-3">🤔 왜 이 챌린지를 준비했나면요</p>
          <div class="text-gray-600 text-sm space-y-2">
            <p>홍보는 하고 싶은데 방법도 모르겠고, 돈 들이긴 부담되셨죠?</p>
            <p>패스오더가 대신 해드릴게요.</p>
            <p>알바뿐만 아니라 사장님도 직접 참여할 수 있어요.</p>
            <p class="text-brand font-bold">비용 0원은 기본, 참여하시면 리워드까지 드려요. 🎁</p>
          </div>
        </div>
        
        <div class="bg-blue-50 rounded-2xl p-5">
          <p class="font-bold text-gray-800 mb-3">😊 패스오더가 사장님에게 좋은 이유?</p>
          <div class="text-gray-600 text-sm space-y-3">
            <div class="flex gap-2">
              <span class="bg-blue-100 text-blue-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold shrink-0">1</span>
              <p><b>한 번 온 손님, 다시 오게 만들기 어려우셨죠?</b><br>사용자 재사용률 최대 81%에 달하는 패스오더는<br>신규고객을 유치하고 단골고객으로 전환시켜줘요.</p>
            </div>
            <div class="flex gap-2">
              <span class="bg-blue-100 text-blue-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold shrink-0">2</span>
              <p><b>피크타임에 주문이 밀려서 힘드셨죠?</b><br>패스오더는 손님이 미리 주문·결제까지 완료해요.<br>회전율이 빨라지고, 매장 운영이 수월해져요.</p>
            </div>
            <div class="flex gap-2">
              <span class="bg-blue-100 text-blue-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold shrink-0">3</span>
              <p><b>주문 실수해서 다시 만든 적 있으시죠?</b><br>패스오더는 옵션이 주문 내역에 그대로 남아있어요.<br>주문 실수로 인한 재료 손실도 줄고, 컴플레인도 줄어들어요.</p>
            </div>
            <div class="flex gap-2">
              <span class="bg-blue-100 text-blue-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold shrink-0">4</span>
              <p><b>급한 손님, 화내는 손님, 말 빠른 손님까지 응대하느라 지치셨죠?</b><br>패스오더 손님은 앱에서 직접 주문해요.<br>까다로운 주문, 얼굴 보며 받을 일이 줄어들어요.</p>
            </div>
          </div>
        </div>
        
        <div class="bg-green-50 rounded-2xl p-5">
          <p class="font-bold text-gray-800 mb-3">🎁 참여 혜택</p>
          <div class="bg-white rounded-xl p-4 mb-3">
            <p class="text-brand font-bold text-lg">💵 손님 1명당 2,000원 지급!</p>
            <p class="text-gray-500 text-sm">손님이 패스오더 첫 주문 완료 시, 건당 2,000원을 현금으로 지급해드려요!</p>
          </div>
          <div class="bg-white rounded-xl p-4">
            <p class="text-red-500 font-bold">⏰ 한정 특별 혜택!</p>
            <p class="text-gray-700 font-bold">최대 60만원 추가 수입 가능!</p>
            <p class="text-gray-500 text-sm">기간 지나면 혜택이 줄어드니 서두르세요 🔥</p>
          </div>
        </div>
      </div>

      <!-- 신청 절차 (공통) -->
      <div id="procedure-section" class="info-section mb-8">
        <div class="bg-gray-100 rounded-2xl p-5">
          <p class="font-bold text-gray-800 mb-3">📋 신청 절차</p>
          <div class="space-y-2 text-sm text-gray-600">
            <p>1. 참여 신청서 작성 & 제출하기</p>
            <p>2. 선정되면 영업일 2~3일 내 카카오톡으로 안내 메시지를 보내드려요!</p>
            <p>3. 안내 메시지 수신 후 영업일 2~3일 내 작성해주신 주소로 손님 전달용 쿠폰이 배송돼요</p>
            <p>4. 손님 전달용 쿠폰 받으면 [시급 2배 챌린지] 바로 시작! 🎉</p>
          </div>
        </div>
      </div>

      <!-- 신청 폼 -->
      <div id="form-section" class="form-section">
        <div class="bg-brand/5 rounded-2xl p-5 border-2 border-brand/20">
          <p class="font-bold text-gray-800 mb-1">📝 지금 바로 신청하세요!</p>
          <p class="text-sm text-gray-500 mb-5">선착순 마감될 수 있어요</p>
          
          <form id="application-form" class="space-y-4">
            <!-- 히든 필드 -->
            <input type="hidden" id="entry_time" name="entry_time">
            <input type="hidden" id="channel" name="channel">
            <input type="hidden" id="role" name="role">
            
            <!-- 매장명 -->
            <div>
              <label class="block text-sm font-bold text-gray-700 mb-1">
                매장명 <span class="text-red-500">*</span>
              </label>
              <p class="text-xs text-gray-500 mb-2">패스오더 프로그램 내에 등록된 이름으로 적어주시면 좋아요 😊</p>
              <input type="text" id="store_name" name="store_name" required
                class="w-full border border-gray-300 rounded-xl px-4 py-3 text-base"
                placeholder="예: 패스커피 강남점">
            </div>
            
            <!-- 닉네임 -->
            <div>
              <label class="block text-sm font-bold text-gray-700 mb-1">
                닉네임 <span class="text-red-500">*</span>
              </label>
              <p class="text-xs text-gray-500 mb-2">손님 전달용 쿠폰에 닉네임을 커스텀하여 제작해 드릴 예정이에요 😊 (2자 ~ 6자)</p>
              <input type="text" id="nickname" name="nickname" required minlength="2" maxlength="6"
                class="w-full border border-gray-300 rounded-xl px-4 py-3 text-base"
                placeholder="예: 민수">
            </div>
            
            <!-- 연락처 -->
            <div>
              <label class="block text-sm font-bold text-gray-700 mb-1">
                연락처 <span class="text-red-500">*</span>
              </label>
              <p class="text-xs text-gray-500 mb-2">선정 안내, 리워드 지급 등 안내에 필요해요 😊</p>
              <input type="tel" id="phone" name="phone" required
                class="w-full border border-gray-300 rounded-xl px-4 py-3 text-base"
                placeholder="010-0000-0000"
                maxlength="13">
            </div>
            
            <!-- 주소 -->
            <div>
              <label class="block text-sm font-bold text-gray-700 mb-1">
                손님 전달용 쿠폰을 배송 받을 주소 <span class="text-red-500">*</span>
              </label>
              <p class="text-xs text-gray-500 mb-2">매장 주소는 분실 위험이 있어서, 되도록 자택 주소로 부탁드려요 😊</p>
              
              <div class="flex gap-2 mb-2">
                <input type="text" id="zipcode" name="zipcode" readonly required
                  class="w-24 border border-gray-300 rounded-xl px-4 py-3 text-base bg-gray-50"
                  placeholder="우편번호">
                <button type="button" onclick="searchAddress()"
                  class="bg-gray-700 text-white px-4 py-3 rounded-xl font-bold text-sm whitespace-nowrap hover:bg-gray-800">
                  🔍 주소 검색
                </button>
              </div>
              
              <input type="text" id="address" name="address" readonly required
                class="w-full border border-gray-300 rounded-xl px-4 py-3 text-base bg-gray-50 mb-2"
                placeholder="기본 주소">
              
              <input type="text" id="address_detail" name="address_detail" required
                class="w-full border border-gray-300 rounded-xl px-4 py-3 text-base"
                placeholder="상세 주소를 입력해주세요">
            </div>
            
            <!-- 동의 -->
            <div class="bg-white rounded-xl p-4 border border-gray-200">
              <label class="flex items-start gap-3 cursor-pointer">
                <input type="checkbox" id="agreement" name="agreement" required
                  class="mt-1 w-5 h-5 text-brand rounded">
                <span class="text-sm text-gray-600">
                  위 안내사항을 모두 확인했으며, 이벤트 참여를 신청합니다 <span class="text-red-500">*</span>
                </span>
              </label>
            </div>
            
            <!-- 제출 버튼 -->
            <button type="submit" id="submit-btn"
              class="w-full bg-brand text-white py-4 rounded-xl font-bold text-lg hover:bg-brandDark transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
              신청하기
            </button>
          </form>
        </div>
      </div>

    </div>
    
    <!-- 푸터 -->
    <div class="bg-gray-100 p-6 text-center text-xs text-gray-500">
      <p>© 2025 PAYTA LAB CORP. ALL RIGHTS RESERVED</p>
      <p class="mt-1">문의: help@passorder.co.kr</p>
    </div>

  </div>

  <!-- 완료 화면 -->
  <div id="success-screen" class="hidden fixed inset-0 bg-white z-50 flex items-center justify-center">
    <div class="text-center p-6">
      <div class="text-6xl mb-4">🎉</div>
      <h2 class="text-2xl font-bold text-gray-800 mb-2">신청 완료!</h2>
      <p class="text-gray-600 mb-6">
        영업일 2~3일 내로<br>카카오톡으로 안내드릴게요!
      </p>
      <p class="text-sm text-gray-400">이 페이지를 닫으셔도 됩니다</p>
    </div>
  </div>

  <script>
    // ========== 설정 ==========
    const GAS_URL = 'https://script.google.com/macros/s/AKfycbweYX7ZOg2M1goezR6RiXYz0tDVs1eHSaqOla_GQeGgLy0EV1l3PHAuilphj0ZGN3-J/exec';
    
    // ========== URL 파라미터 & entry_time ==========
    const params = new URLSearchParams(window.location.search);
    let entryTime = params.get('entry_time');
    const channel = params.get('channel') || '';
    
    // entry_time 없으면 생성 + URL 업데이트
    if (!entryTime) {
      entryTime = new Date().toISOString();
      params.set('entry_time', entryTime);
      const newUrl = window.location.pathname + '?' + params.toString();
      window.history.replaceState({}, '', newUrl);
      
      // 페이지 뷰 기록
      const pageViewData = new URLSearchParams({
        entry_time: entryTime,
        channel: channel,
        user_agent: navigator.userAgent,
        referrer: document.referrer
      });
      fetch(GAS_URL + '?' + pageViewData.toString(), { mode: 'no-cors' });
    }
    
    // 히든 필드에 값 설정
    document.getElementById('entry_time').value = entryTime;
    document.getElementById('channel').value = channel;
    
    // ========== 역할 선택 ==========
    const roleCards = document.querySelectorAll('.role-card');
    const infoAlba = document.getElementById('info-alba');
    const infoOwner = document.getElementById('info-owner');
    const procedureSection = document.getElementById('procedure-section');
    const formSection = document.getElementById('form-section');
    const roleInput = document.getElementById('role');
    
    roleCards.forEach(card => {
      card.addEventListener('click', function() {
        // 선택 상태 토글
        roleCards.forEach(c => c.classList.remove('selected'));
        this.classList.add('selected');
        
        const role = this.dataset.role;
        roleInput.value = role;
        
        // 설명 섹션 표시
        infoAlba.classList.remove('show');
        infoOwner.classList.remove('show');
        
        if (role === 'alba') {
          infoAlba.classList.add('show');
        } else {
          infoOwner.classList.add('show');
        }
        
        // 절차 & 폼 표시
        procedureSection.classList.add('show');
        formSection.classList.add('show');
        
        // 스크롤
        setTimeout(() => {
          this.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 100);
      });
    });
    
    // ========== 전화번호 자동 포맷 ==========
    document.getElementById('phone').addEventListener('input', function(e) {
      let value = e.target.value.replace(/[^0-9]/g, '');
      if (value.length <= 3) {
        e.target.value = value;
      } else if (value.length <= 7) {
        e.target.value = value.slice(0, 3) + '-' + value.slice(3);
      } else {
        e.target.value = value.slice(0, 3) + '-' + value.slice(3, 7) + '-' + value.slice(7, 11);
      }
    });
    
    // ========== 다음 주소 검색 ==========
    function searchAddress() {
      new daum.Postcode({
        oncomplete: function(data) {
          document.getElementById('zipcode').value = data.zonecode;
          document.getElementById('address').value = data.roadAddress || data.jibunAddress;
          document.getElementById('address_detail').focus();
        }
      }).open();
    }
    
    // ========== 폼 제출 ==========
    document.getElementById('application-form').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const submitBtn = document.getElementById('submit-btn');
      submitBtn.disabled = true;
      submitBtn.textContent = '제출 중...';
      
      // submit_time 추가
      const formData = new FormData(this);
      formData.append('submit_time', new Date().toISOString());
      formData.append('agreement', document.getElementById('agreement').checked ? 'Y' : 'N');
      
      try {
        await fetch(GAS_URL, {
          method: 'POST',
          body: formData,
          mode: 'no-cors'
        });
        
        // 완료 화면 표시
        document.getElementById('success-screen').classList.remove('hidden');
        
      } catch (error) {
        alert('제출 중 오류가 발생했습니다. 다시 시도해주세요.');
        submitBtn.disabled = false;
        submitBtn.textContent = '신청하기';
      }
    });
  </script>

</body>
</html>
